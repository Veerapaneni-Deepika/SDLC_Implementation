        -:    0:Source:src/searchBook.c
        -:    1:#include "fun.h"
        1:    2:error_t searchBooks(const char *FILE_NAME)
        -:    3:{
        1:    4:    error_t found = FAILURE;
        1:    5:    char bookName[MAX_BOOK_NAME] = {0};
        1:    6:    s_BooksInfo addBookInfoInDataBase = {0};
        1:    7:    FILE *fp = NULL;
        1:    8:    fp = fopen(FILE_NAME,"rb");
        1:    8-block  0
        1:    9:    if(fp == NULL)
        -:   10:    {
    #####:   11:        printf("\nFile is not opened\n");
    %%%%%:   11-block  0
    #####:   12:        return FILE_NOT_FOUND;
        -:   13:    }
        1:   14:    printf("\nSEARCH BOOKS\n");
        1:   14-block  0
        -:   15:    //put the control on books detail
        1:   16:    if (fseek(fp,FILE_HEADER_SIZE,SEEK_SET) != 0)
        -:   17:    {
    #####:   18:        fclose(fp);
    %%%%%:   18-block  0
    #####:   19:        printf("\nFacing issue while reading file\n");
    #####:   20:        return FAILURE;
        -:   21:    }
        1:   22:    printf("\nEnter Book Name to search:");
        1:   22-block  0
        1:   23:    fflush(stdin);
        1:   24:    fgets(bookName,MAX_BOOK_NAME,stdin);
        1:   25:    while (fread (&addBookInfoInDataBase, sizeof(addBookInfoInDataBase), 1, fp))
        1:   25-block  0
        -:   26:    {
    #####:   27:        if(!strcmp(bookName, addBookInfoInDataBase.bookName))
    %%%%%:   27-block  0
        -:   28:        {
    #####:   29:            found = SUCCESS;
    #####:   30:            break;
    %%%%%:   30-block  0
        -:   31:        }
        -:   32:    }
        1:   33:    if(found)
        1:   33-block  0
        -:   34:    {
    #####:   35:        printf("\nBook id = %u\n",addBookInfoInDataBase.books_id);
    %%%%%:   35-block  0
    #####:   36:        printf("\nBook name = %s",addBookInfoInDataBase.bookName);
    #####:   37:        printf("\nBook authorName = %s",addBookInfoInDataBase.authorName);
    #####:   38:        printf("\nBook issue date(day/month/year) =  (%d/%d/%d)",addBookInfoInDataBase.bookIssueDate.dd,addBookInfoInDataBase.bookIssueDate.mm, addBookInfoInDataBase.bookIssueDate.yyyy);
    #####:   39:        printf("\nBook return date(day/month/year) =  (%d/%d/%d)",addBookInfoInDataBase.returnDate.dd,addBookInfoInDataBase.returnDate.mm, addBookInfoInDataBase.returnDate.yyyy);
        -:   40:    }
        -:   41:    else
        -:   42:    {
        1:   43:        printf("\nNo Book");
        1:   43-block  0
        1:   44:        return NOT_FOUND;
        -:   45:    }
    #####:   46:    fclose(fp);
    #####:   47:    printf("\nPress any key to go to main menu.....\n");
    #####:   48:    getchar();
    #####:   49:    return found;
        -:   50:}
